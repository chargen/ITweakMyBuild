<UserControl x:Class="ITweakMyBuild.BuildNotificationControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" mc:Ignorable="d" d:DesignHeight="26"
             Height="26" Width="36" Background="Red" DockPanel.Dock="Right" VerticalAlignment="Top"
             >
  <UserControl.Resources>
    <Storyboard x:Key="AnimationStoryboard" TargetName="Image">
      <DoubleAnimation From="0" To="1" Duration="0:0:1" RepeatBehavior="Forever" Storyboard.TargetProperty="(FrameworkElement.Opacity)" />
    </Storyboard>
  </UserControl.Resources>
  <Image x:Name="Image" 
         Source="{Binding ImageSource, RelativeSource={RelativeSource FindAncestor, AncestorType=UserControl}}"
         Stretch="None" Width="16" Height="16" 
         VerticalAlignment="Center" HorizontalAlignment="Center"/>
  <UserControl.Triggers>
    <EventTrigger RoutedEvent="Loaded">
      <BeginStoryboard Name="Animation" Storyboard="{StaticResource AnimationStoryboard}"/>
    </EventTrigger>
    <EventTrigger RoutedEvent="Unloaded">
      <StopStoryboard BeginStoryboardName="Animation" />
    </EventTrigger>
  </UserControl.Triggers>
</UserControl>
